<div class="header-block-bg-video header-block-{{id}}">
     <div class="container">
		<div class="row">
			<div class="col-lg-12 bg-video-logo">
				<img src="{{logo}}" alt="logo"/>
			</div>
			<div class="col-lg-offset-2 col-lg-8 col-md-offset-2 col-md-8 bg-video-title">
				<h1 class="header-block">{{header}}</h1>
			</div>
			<div class="col-lg-offset-2 col-lg-8 col-md-offset-2 col-md-8 bg-video-text">
				{{{text}}}
			</div>
			<div class="col-lg-12 text-center btn-header-wrap">
				{{#each_with_sort buttons "order"}}
					<a href="{{action_url}}" class="btn btn{{order}} {{#ifCond inverse '==' 'inversed'}}inverse{{/ifCond}} br-white {{#ifCond hidebtn '==' '1'}}hidden-xs{{/ifCond}}" target="{{#if target}}blank{{/if}}">{{title}}</a>
				{{/each_with_sort}}
			</div>
		</div>
	</div>
</div>
<style>
	.header-block-{{id}} {
		background: url('{{image}}') center center no-repeat;
	}

	.iPad.header-block-{{id}} {
		background: url('{{image}}') center center no-repeat !important;
	}
</style>
<script type="text/javascript">
	jQuery(document).ready(function(){
		var url = "{{bg_video}}",
			video = '',
	        format = url.substring(url.lastIndexOf('.') + 1, url.length);
        
	    if (format === 'mp4' || format === 'ogv'|| format === 'webm') {
	        video = "<video class='custom-video-wrapper' autoplay loop muted><source src='" + url + "' type='video/" + (format === 'ogv' ? 'ogg' : format) + "'></source></video>";
	        video += "<div class='custom-video-wrapper-overlay'></div>";
	    }

		jQuery(".header-block-{{id}}").append(video);
		// Centering content
		var height = jQuery('.header-block-{{id}} .row').height(),
			totalHeight = jQuery('.header-block-{{id}}').height();
		jQuery('.header-block-{{id}} .row').height(height).css('top', (totalHeight - height) / 2 );
		jQuery(window).on('resize', function() {
			var height = jQuery('.header-block-{{id}} .row').height(),
				totalHeight = jQuery('.header-block-{{id}}').height();
			jQuery('.header-block-{{id}} .row').height(height).css('top', (totalHeight - height) / 2 );
		});
		// Adding parallax to video
		jQuery(window).on('scroll', function () {
	        var scrolled = jQuery(document).scrollTop() - jQuery('.header-block-{{id}}').offset().top;
	        jQuery('.header-block-{{id}} .custom-video-wrapper').css('transform', 'translate3d(0, ' + scrolled + 'px, 0)');
	    });
	    // Bug with iPad overlay
	    if (/iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream) {
	    	jQuery(".header-block-{{id}}").addClass('iPad');
	    }
    });
</script>
